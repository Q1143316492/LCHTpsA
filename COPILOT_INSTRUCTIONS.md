# Copilot / AI 使用说明（针对 LCHTpsA 单机第三人称游戏）

## 项目概览
- 类型：单机第三人称游戏（C++ + Unreal Engine 5.6 项目）。
- 目标：为后续使用 AI（如 Copilot 或 LLM）生成代码、蓝图、内容与任务自动化提供明确约束与提示模板。

## 开始前约定（重要）
- 所有代码改动必须能在本地构建（首选 `Development` 或 `Editor` 目标）。
- 资产（Content 下大型二进制）应使用 Git LFS；请不要把大型未压缩文件直接提交到普通 Git 存储库。
- 命名约定：C++ 用 PascalCase（类），camelCase（函数/变量），资源用小写短横（eg. maps/level-main）。
- 蓝图尽量保持小、职责单一；复杂逻辑优先用 C++ 实现并暴露给蓝图。

## 提示模板（prompt templates）
以下模板用于向 AI 询问生成代码、蓝图、关卡或资产的请求。把方括号替换成具体内容。

- 生成 C++ 类（行为/组件）：
"请为 Unreal Engine 5.6 编写一个 C++ 类 `ClassName`，继承自 `ParentClass`，它应实现：
1) 输入：{列出输入/事件}
2) 输出：{列出输出/状态变化}
3) 运行时约束：性能（每帧 CPU 限制）、多线程/并发注意点（如有）
请只返回 .h 和 .cpp 的完整代码文件内容，并注明需要在 `Build.cs` 中添加的模块依赖。"

- 生成蓝图节点逻辑（用文字描述以便 AI 输出伪代码或 C++）：
"我有一个蓝图 `BP_Name`，需要实现 {功能描述}。尽量给出：事件图的关键节点顺序、变量、函数签名和重要分支逻辑。若适合，给出对应可替换的 C++ 函数签名。"

- 关卡或场景设计要点：
"请给出一个第三人称关卡 `LevelName` 的设计文档草案，包含目标、主要事件触发点、敌人波次/AI 行为概要、关键交互与性能注意项（光照、碰撞复杂度、流式加载）。"

- 生成文档/注释/单元测试提示：
"请为 `ClassName::FunctionName` 生成中文注释、边界条件说明、并列出 3 个推荐的单元/集成测试用例（输入、预期输出）。"

## 质量门槛（Quality gates）
- 编译：任何 AI 生成的 C++ 代码必须能通过项目当前的本地构建（建议先在小分支、通过编译再合并）。
- 风格：保持现有代码风格；类/函数名遵循项目约定。
- 性能：避免每帧执行昂贵操作（复杂搜索、同步磁盘/网络等）；输出要包含性能影响估计。
- 测试：关键逻辑应附带 1-2 个自动化测试或手工验证步骤。

## 变更提交模板（建议）
- 主题行：<模块>：简短动作描述（例如 Gameplay：添加跳跃缓冲）
- 描述：为什么做、如何做、影响范围、回归/测试步骤。
- 关联任务/Issue：#ID（如果有）

## Git LFS 与大资产处理
- 在仓库根添加 `.gitattributes`，把 Content 下的常见二进制格式（.uasset、.umap、纹理、模型、音频等）设置为 LFS。例如：
  Content/** filter=lfs diff=lfs merge=lfs -text
- 在提交前运行 `git lfs track` 并确保团队成员安装 Git LFS。

## 常见任务示例（快捷提示）
- 修复 NPC 卡住："请检查路径点系统和 NavMesh 使用逻辑，列出可能导致卡住的 5 个原因并给出修复代码片段。"
- 优化帧率下降："分析此帧率问题：场景包含 N 个光源、M 个高 poly 模型，已开启实时光照，给出三条可行的优化建议及实现步骤。"

## 使用 AI 的安全与注意事项
- 不要直接接受未经校验的生成代码到主分支；先在本地构建并做基本静态检查。
- 对生成的行为/AI 脚本做额外审核，避免引入无限循环、未限制的递归或阻塞主线程的调用。

## 末尾说明
- 文件目的：为 Copilot / LLM 提供可复用的上下文、提示模板和质量检查点，便于快速迭代功能与内容。
- 若需要，我可以根据特定任务（如生成某个具体类或关卡）补写更精细的 prompt 模板与示例实现。
